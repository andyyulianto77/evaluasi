<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contoh Kuis dan Form - Portal Educativa</title>
    
    <!-- Import Components -->
    <script type="module" src="../custom/src/kuis-confeti.js"></script>
    <script type="module" src="../custom/src/form-connected.js"></script>
    <script type="module" src="../custom/src/custom-eval2-theme.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .section-header {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            text-align: center;
            padding: 25px;
        }
        
        .section-header h2 {
            font-size: 1.8em;
            margin-bottom: 5px;
        }
        
        .section-header p {
            opacity: 0.9;
            font-size: 0.95em;
        }
        
        .section-content {
            padding: 30px;
        }
        
        .demo-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .demo-header {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
            text-align: center;
            padding: 30px;
        }
        
        .demo-header h2 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }
        
        .demo-content {
            padding: 40px;
        }
        
        .instructions {
            background: #e3f2fd;
            border-left: 4px solid #2196F3;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
        }
        
        .instructions h3 {
            color: #1976D2;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            margin-left: 20px;
            line-height: 1.6;
        }
        
        .code-example {
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }
        
        .feature-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #0078d4;
        }
        
        .feature h4 {
            color: #0078d4;
            margin-bottom: 8px;
        }
        
        .feature p {
            color: #666;
            line-height: 1.5;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .demo-content, .section-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üéì Portal Educativa</h1>
            <p>Contoh Implementasi Kuis dan Form dengan HAXCMS Integration</p>
        </div>
        
        <!-- Demo Sections -->
        <div class="main-content">
            <!-- Quiz Demo -->
            <div class="section">
                <div class="section-header">
                    <h2>üß© Demo Kuis</h2>
                    <p>Kuis Interaktif dengan Confetti & HAXCMS</p>
                </div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>Cara Menggunakan:</h3>
                        <ul>
                            <li>Isi form data diri terlebih dahulu</li>
                            <li>Jawab pertanyaan dengan jawaban yang tepat</li>
                            <li>Lihat confetti saat jawaban benar!</li>
                            <li>Lihat hasil di akhir kuis</li>
                        </ul>
                    </div>
                    
                    <confetti-quiz 
                        web-app-url=""
                        autoload-results="true">
                    </confetti-quiz>
                </div>
            </div>
            
            <!-- Form Demo -->
            <div class="section">
                <div class="section-header">
                    <h2>üìù Demo Form</h2>
                    <p>Form Terintegrasi dengan HAXCMS Store</p>
                </div>
                <div class="section-content">
                    <div class="instructions">
                        <h3>Fitur Form:</h3>
                        <ul>
                            <li>Terhubung dengan HAXCMS store</li>
                            <li>Data tersimpan secara otomatis</li>
                            <li>Pre-filled dari store configuration</li>
                            <li>Responsive dan user-friendly</li>
                        </ul>
                    </div>
                    
                    <!-- <form-connected></form-connected> -->
                </div>
            </div>
        </div>
        
        <!-- Features & Examples -->
        <div class="demo-section">
            <div class="demo-header">
                <h2>‚ú® Fitur & Contoh Implementasi</h2>
                <p>Pelajari cara mengintegrasikan dengan proyek Anda</p>
            </div>
            <div class="demo-content">
                <div class="feature-list">
                    <div class="feature">
                        <h4>üéØ Kuis Dinamis</h4>
                        <p>Pertanyaan dapat diubah melalui HAXCMS UI tanpa edit kode</p>
                    </div>
                    <div class="feature">
                        <h4>üéä Confetti Effects</h4>
                        <p>Animasi confetti yang dapat dikonfigurasi untuk jawaban benar</p>
                    </div>
                    <div class="feature">
                        <h4>üíæ Data Persistence</h4>
                        <p>Data tersimpan di localStorage dan HAXCMS store</p>
                    </div>
                    <div class="feature">
                        <h4>üîÑ Real-time Updates</h4>
                        <p>Perubahan store langsung tercermin di komponen</p>
                    </div>
                    <div class="feature">
                        <h4>üì± Responsive Design</h4>
                        <p>Kompatibel dengan semua ukuran layar</p>
                    </div>
                    <div class="feature">
                        <h4>üîå Easy Integration</h4>
                        <p>Import module dan langsung pakai, tidak perlu build process</p>
                    </div>
                </div>
                
                <h3>üìã Contoh Konfigurasi HAXCMS Store:</h3>
                <div class="code-example">
<pre>// Setup kuis melalui JavaScript
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(() => {
        if (window.store) {
            // Konfigurasi kuis
            window.store.quizData = {
                title: "Kuis Matematika",
                questions: JSON.stringify([
                    {"question":"2+2=?","answer":"4"},
                    {"question":"5√ó3=?","answer":"15"}
                ]),
                settings: {
                    showConfetti: true,
                    duration: 2000,
                    particleCount: 150
                }
            };
            
            // Set data user
            window.store.userData = {
                name: "Nama Siswa",
                email: "email@siswa.sch.id"
            };
        }
    }, 1000);
});</pre>
                </div>
                
                <h3>üé® Custom Styling:</h3>
                <div class="code-example">
<pre>/* Custom CSS untuk kuis */
confetti-quiz {
    --quiz-primary-color: #4CAF50;
    --quiz-border-radius: 15px;
    --quiz-font-family: 'Arial', sans-serif;
}

/* Custom CSS untuk form */
form-connected {
    --form-primary-color: #0078d4;
    --form-background: #ffffff;
    --form-border-radius: 10px;
}</pre>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Confetti Overlay -->
    <kuis-confeti id="confetti"></kuis-confeti>
    
    <script>
        // HAXCMS Store Configuration
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ Portal Educativa loaded!');
            
            setTimeout(() => {
                if (window.store) {
                    console.log('üì¶ HAXCMS Store detected, configuring...');
                    
                    // Configure Quiz Data
                    window.store.quizData = {
                        title: "Kuis Pengetahuan Umum",
                        questions: JSON.stringify([
                            {
                                "question": "Berapa hasil dari 10 + 15?",
                                "answer": "25"
                            },
                            {
                                "question": "Siapakah penulis novel 'Laskar Pelangi'?",
                                "answer": "andrea hirata"
                            },
                            {
                                "question": "Ibukota provinsi Jawa Tengah?",
                                "answer": "semarang"
                            },
                            {
                                "question": "Berapa hari dalam bulan February (tahun normal)?",
                                "answer": "28"
                            },
                            {
                                "question": "Planet terdekat dengan matahari?",
                                "answer": "merkurius"
                            }
                        ]),
                        settings: {
                            autoloadResults: true,
                            showConfetti: true,
                            duration: 2500,
                            particleCount: 200
                        }
                    };
                    
                    // Configure Site Information
                    window.store.manifest = {
                        title: "Portal Educativa - Demo"
                    };
                    
                    // Set initial user data
                    window.store.userData = {
                        name: "",
                        email: "",
                        phone: "",
                        kelas: "",
                        absen: "",
                        address: ""
                    };
                    
                    console.log('‚úÖ HAXCMS Store configured successfully!');
                    console.log('üìä Quiz title:', window.store.quizData.title);
                    console.log('üë§ User data initialized');
                } else {
                    console.warn('‚ö†Ô∏è HAXCMS Store not detected. Some features may not work.');
                }
            }, 1500);
        });
        
        // Event Listeners untuk debugging dan demonstration
        document.addEventListener('quiz-result', function(e) {
            console.log('üìù Quiz progress:', e.detail);
        });
        
        document.addEventListener('quiz-finished', function(e) {
            console.log('üéâ Quiz completed!', e.detail);
            console.log('üìä Final score:', e.detail.result);
            
            // Example: Show completion message
            setTimeout(() => {
                alert(`üéâ Kuis selesai!\nSkor: ${e.detail.result.score}/${e.detail.result.total}\nPersentase: ${e.detail.result.percentage}%`);
            }, 500);
        });
        
        document.addEventListener('form-data-updated', function(e) {
            console.log('üìù Form updated:', e.detail);
        });
        
        // Debug function
        window.debugPortal = function() {
            console.log('üîç Portal Debug Info:');
            console.log('- HAXCMS Store:', window.store);
            console.log('- Quiz Component:', document.querySelector('confetti-quiz'));
            console.log('- Form Component:', document.querySelector('form-connected'));
            console.log('- Store Quiz Data:', window.store?.quizData);
            console.log('- Store User Data:', window.store?.userData);
        };
        
        console.log('üéì Portal Educativa ready! Use debugPortal() for debug info.');
    </script>
</body>
</html>